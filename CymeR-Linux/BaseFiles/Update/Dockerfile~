FROM bmuchmore/cymer
MAINTAINER Brian Muchmore "brian.muchmore@genyo.es"

##Install Wishbone (dependent upon Python 3.X and some libraries)
##The sed commands below change the setup.py script to point correctly to pip3 and to remove the tsne dependency, which was throwing errors during install
RUN sudo wget https://github.com/ManuSetty/wishbone/archive/master.zip -O /home/developer/Wishbone.zip -q && \
    sudo unzip -o /home/developer/Wishbone.zip -d /home/developer && \
    sudo rm -rf /home/developer/Wishbone.zip && \
    sudo sed -i -e 's@pip3@/opt/python3.4/bin/pip3@g' /home/developer/wishbone-master/setup.py && \
    sudo sed -i -e "s@'tsne',@@g" /home/developer/wishbone-master/setup.py && \
    cd /home/developer/wishbone-master && /opt/python3.4/bin/python3 setup.py install

USER developer
ENV HOME /home/developer
WORKDIR /home/developer
CMD /home/developer/knime_3.1.2/knime -data /home/developer/knime-workspace 


